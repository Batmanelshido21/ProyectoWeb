define(["exports","ojs/ojcachediteratorresultsdataprovider","ojs/ojdedupdataprovider","ojs/ojmutateeventfilteringdataprovider"],(function(e,t,i,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;class r{constructor(e,t,i){this.treeDataProvider=e,this.enhancedDataProvider=t,this.options=i,t.addEventListener(r._MUTATE,e=>{this.dispatchEvent(e)}),t.addEventListener(r._REFRESH,e=>{this.dispatchEvent(e)}),t.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>t.createOptimizedKeyMap(e)),t.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>t.createOptimizedKeySet(e))}getChildDataProvider(e){const t=this.treeDataProvider.getChildDataProvider(e);return t?n(t,this.options):null}containsKeys(e){return this.enhancedDataProvider.containsKeys(e)}fetchByKeys(e){return this.enhancedDataProvider.fetchByKeys(e)}fetchByOffset(e){return this.enhancedDataProvider.fetchByOffset(e)}fetchFirst(e){return this.enhancedDataProvider.fetchFirst(e)}getCapability(e){return this.enhancedDataProvider.getCapability(e)}getTotalSize(){return this.enhancedDataProvider.getTotalSize()}isEmpty(){return this.enhancedDataProvider.isEmpty()}}function n(e,n){var d,o,l;let s=null===(d=null==n?void 0:n.capabilities)||void 0===d?void 0:d.fetchCapability,c=null===(o=null==n?void 0:n.capabilities)||void 0===o?void 0:o.dedupCapability,p=null===(l=null==n?void 0:n.capabilities)||void 0===l?void 0:l.eventFilteringCapability,h=e.getCapability("fetchCapability"),v=e.getCapability("dedup"),u=e.getCapability("eventFiltering"),y=!0,f=!0,P=!0;const g=null==h?void 0:h.caching;"none"!=(null==s?void 0:s.caching)&&"all"!=g&&"visitedByCurrentIterator"!=g||(y=!1);const b=null==v?void 0:v.type;"none"!=(null==c?void 0:c.type)&&"global"!=b&&"iterator"!=b||(f=!1);const D=null==u?void 0:u.type;"none"!=(null==p?void 0:p.type)&&"global"!=D&&"iterator"!=D||(P=!1);let E=e;return y&&(E=new t(E)),f&&(E=new i(E)),P&&(E=new a(E)),e.getChildDataProvider&&(E=new r(e,E,n)),E}r._REFRESH="refresh",r._MUTATE="mutate",oj.EnhancedTreeDataProvider=r,oj.EnhancedTreeDataProvider=r,oj.EventTargetMixin.applyMixin(r),e.getEnhancedDataProvider=n,Object.defineProperty(e,"__esModule",{value:!0})}));