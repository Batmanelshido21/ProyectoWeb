/**
 * @license
 * Copyright (c) 2014, 2020, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["ojs/ojcore","jquery"],(function(e,t){"use strict";var n=function(){};return n._TAB_INDEX="tabIndex",n._DATA_OJ_TABMOD="data-oj-tabmod",n._FOCUSABLE_ELEMENTS_QUERY="input, select, button, a[href], textarea, object, [tabIndex]:not([tabIndex='-1'])",n.getFocusableElementsInNode=function(e,t){for(var E=[],_=e.querySelectorAll("input, select, button, a[href], textarea, object, [tabIndex]:not([tabIndex='-1'])"),r=_.length,i=0;i<r;i++){var l=_[i];if(!l.disabled&&(t||"none"!==l.style.display)){var o=parseInt(l.getAttribute(n._TAB_INDEX),10);(isNaN(o)||o>=0)&&E.push(l)}}return E},n.disableAllFocusableElements=function(e,t,E){for(var _=[],r=n.getFocusableElementsInNode(e,t),i=0;i<r.length;i++)if(!E||r[i]!==document.activeElement){var l=parseInt(r[i].getAttribute(n._TAB_INDEX),10);r[i].setAttribute(n._DATA_OJ_TABMOD,l),r[i].setAttribute(n._TAB_INDEX,-1),_.push(r[i])}return _},n.enableAllFocusableElements=function(e){for(var t=e.querySelectorAll("["+n._DATA_OJ_TABMOD+"]"),E=0;E<t.length;E++){var _=parseInt(t[E].getAttribute(n._DATA_OJ_TABMOD),10);t[E].removeAttribute(n._DATA_OJ_TABMOD),isNaN(_)?t[E].removeAttribute(n._TAB_INDEX):t[E].setAttribute(n._TAB_INDEX,_)}return t},n.getFocusableElementsIncludingDisabled=function(e){for(var t=[],E=e.querySelectorAll(n._FOCUSABLE_ELEMENTS_QUERY+",["+n._DATA_OJ_TABMOD+"]"),_=0;_<E.length;_++){var r=E[_];r.disabled||"none"===r.style.display||t.push(r)}return t},n.handleActionableTab=function(e,t){var E=n.getFocusableElementsInNode(t);return E.length>0&&e.target===E[E.length-1]&&(E[0].focus(),!0)},n.handleActionablePrevTab=function(e,t){var E=n.getFocusableElementsInNode(t);return E.length>0&&e.target===E[0]&&(E[E.length-1].focus(),!0)},n.getDefaultScrollBarWidth=function(e){var t;if(e&&e.style){var n=e.style.visibility,E=e.style.position,_=e.style.overflowY,r=e.style.height,i=e.style.width;e.style.visibility="hidden",e.style.position="absolute",e.style.overflowY="hidden",e.style.height="50px",e.style.width="50px";var l=e.offsetWidth-e.clientWidth;e.style.overflowY="scroll",t=e.offsetWidth-e.clientWidth-l,e.style.width=i,e.style.height=r,e.style.overflowY=_,e.style.position=E,e.style.visibility=n}return t},n.disableDefaultBrowserStyling=function(e){e.setAttribute("x-ms-format-detection","none")},n.applyMergedInlineStyles=function(e,t,E){var _=n.convertStringToStyleObj(E),r=n.convertStringToStyleObj(t),i=Object.assign({},_,r);n.applyStyleObj(e,i)},n.convertStringToStyleObj=function(e){var t={};if(e.split)for(var n=e.split(";"),E=0;E<n.length;E++){var _=n[E];if(""!==_){var r=_.split(":");2===r.length&&(t[r[0].trim()]=r[1].trim())}}return t},n.applyStyleObj=function(e,t){for(var n=Object.keys(t),E=Object.values(t),_=0;_<n.length;_++)e.style[n[_]]=E[_]},n.isMobileTouchDevice=function(){var t=e.AgentUtils.getAgentInfo();return t.os===e.AgentUtils.OS.IOS||t.os===e.AgentUtils.OS.ANDROID||t.os===e.AgentUtils.OS.WINDOWSPHONE},n.areKeySetsEqual=function(t,n){if(t===n)return!0;var E,_,r=t.isAddAll();if(r!==n.isAddAll())return!1;if(r?(E=t.deletedValues(),_=n.deletedValues()):(E=t.values(),_=n.values()),E.size!==_.size)return!1;for(var i=E.values(),l=_.values(),o=i.next(),s=l.next();!o.done;){if(!e.KeyUtils.equals(o.value,s.value))return!1;o=i.next(),s=l.next()}return!0},n.KEYBOARD_KEYS={_SPACEBAR:" ",_SPACEBAR_IE:"SpaceBar",_SPACEBAR_CODE:32,_ENTER:"Enter",_ENTER_CODE:13,_UP:"ArrowUp",_UP_IE:"Up",_UP_CODE:38,_DOWN:"ArrowDown",_DOWN_IE:"Down",_DOWN_CODE:40,_LEFT:"ArrowLeft",_LEFT_IE:"Left",_LEFT_CODE:37,_RIGHT:"ArrowRight",_RIGHT_IE:"Right",_RIGHT_CODE:39,_HOME:"Home",_HOME_CODE:36,_END:"End",_END_CODE:35,_TAB:"Tab",_TAB_CODE:9,_ESCAPE:"Escape",_ESCAPE_IE:"Esc",_ESCAPE_CODE:27,_F2:"F2",_F2_CODE:113},n.isEnterKeyEvent=function(e){return e===n.KEYBOARD_KEYS._ENTER||e===n.KEYBOARD_KEYS._ENTER_CODE},n.isSpaceBarKeyEvent=function(e){return e===n.KEYBOARD_KEYS._SPACEBAR||e===n.KEYBOARD_KEYS._SPACEBAR_IE||e===n.KEYBOARD_KEYS._SPACEBAR_CODE},n.isEscapeKeyEvent=function(e){return e===n.KEYBOARD_KEYS._ESCAPE||e===n.KEYBOARD_KEYS._ESCAPE_IE||e===n.KEYBOARD_KEYS._ESCAPE_CODE},n.isTabKeyEvent=function(e){return e===n.KEYBOARD_KEYS._TAB||e===n.KEYBOARD_KEYS._TAB_CODE},n.isF2KeyEvent=function(e){return e===n.KEYBOARD_KEYS._F2||e===n.KEYBOARD_KEYS._F2_CODE},n.isHomeKeyEvent=function(e){return e===n.KEYBOARD_KEYS._HOME||e===n.KEYBOARD_KEYS._HOME_CODE},n.isEndKeyEvent=function(e){return e===n.KEYBOARD_KEYS._END||e===n.KEYBOARD_KEYS._END_CODE},n.isArrowUpKeyEvent=function(e){return e===n.KEYBOARD_KEYS._UP||e===n.KEYBOARD_KEYS._UP_IE||e===n.KEYBOARD_KEYS._UP_CODE},n.isArrowDownKeyEvent=function(e){return e===n.KEYBOARD_KEYS._DOWN||e===n.KEYBOARD_KEYS._DOWN_IE||e===n.KEYBOARD_KEYS._DOWN_CODE},n.isArrowLeftKeyEvent=function(e){return e===n.KEYBOARD_KEYS._LEFT||e===n.KEYBOARD_KEYS._LEFT_IE||e===n.KEYBOARD_KEYS._LEFT_CODE},n.isArrowRightKeyEvent=function(e){return e===n.KEYBOARD_KEYS._RIGHT||e===n.KEYBOARD_KEYS._RIGHT_IE||e===n.KEYBOARD_KEYS._RIGHT_CODE},n}));